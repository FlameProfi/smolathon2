[{"/Users/admin/Desktop/smolathon2/client/src/index.tsx":"1","/Users/admin/Desktop/smolathon2/client/src/store/store.ts":"2","/Users/admin/Desktop/smolathon2/client/src/App.tsx":"3","/Users/admin/Desktop/smolathon2/client/src/Pages/EventPage/EventPage.tsx":"4","/Users/admin/Desktop/smolathon2/client/src/Pages/Events/Events.tsx":"5","/Users/admin/Desktop/smolathon2/client/src/Pages/Login/Login.tsx":"6","/Users/admin/Desktop/smolathon2/client/src/Pages/Register/Register.tsx":"7","/Users/admin/Desktop/smolathon2/client/src/Pages/Profile/Profile.tsx":"8","/Users/admin/Desktop/smolathon2/client/src/components/Card/Card.tsx":"9","/Users/admin/Desktop/smolathon2/client/src/services/AuthService.ts":"10","/Users/admin/Desktop/smolathon2/client/src/components/Header/Header.tsx":"11","/Users/admin/Desktop/smolathon2/client/src/components/QrModal/QrModal.tsx":"12","/Users/admin/Desktop/smolathon2/client/src/http/index.ts":"13","/Users/admin/Desktop/smolathon2/client/src/layouts/AuthorizedLayout.tsx":"14","/Users/admin/Desktop/smolathon2/client/src/layouts/UnAuthorizedLayout.tsx":"15","/Users/admin/Desktop/smolathon2/client/src/layouts/AuthLayout.tsx":"16"},{"size":423,"mtime":1623544560000,"results":"17","hashOfConfig":"18"},{"size":2894,"mtime":1728453164176,"results":"19","hashOfConfig":"18"},{"size":3003,"mtime":1728476914394,"results":"20","hashOfConfig":"18"},{"size":3589,"mtime":1728442757903,"results":"21","hashOfConfig":"18"},{"size":4591,"mtime":1728475835451,"results":"22","hashOfConfig":"18"},{"size":3110,"mtime":1728454485591,"results":"23","hashOfConfig":"18"},{"size":7615,"mtime":1728442085607,"results":"24","hashOfConfig":"18"},{"size":3125,"mtime":1728455447294,"results":"25","hashOfConfig":"18"},{"size":3750,"mtime":1728442734863,"results":"26","hashOfConfig":"18"},{"size":845,"mtime":1728450959691,"results":"27","hashOfConfig":"18"},{"size":2711,"mtime":1728442077297,"results":"28","hashOfConfig":"18"},{"size":874,"mtime":1728442077309,"results":"29","hashOfConfig":"18"},{"size":1068,"mtime":1728439729239,"results":"30","hashOfConfig":"18"},{"size":3228,"mtime":1728475783969,"results":"31","hashOfConfig":"18"},{"size":2956,"mtime":1728475453240,"results":"32","hashOfConfig":"18"},{"size":859,"mtime":1728476329973,"results":"33","hashOfConfig":"18"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},"xav79t",{"filePath":"37","messages":"38","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39","usedDeprecatedRules":"36"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"42","messages":"43","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"44","messages":"45","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"46","messages":"47","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"48","usedDeprecatedRules":"36"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"53","messages":"54","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"61","messages":"62","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"63","usedDeprecatedRules":"36"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"66","messages":"67","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"68","messages":"69","errorCount":0,"warningCount":12,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/admin/Desktop/smolathon2/client/src/index.tsx",[],["70","71"],"/Users/admin/Desktop/smolathon2/client/src/store/store.ts",["72","73","74","75"],"import {IUser} from \"../models/IUser\";\nimport {makeAutoObservable} from \"mobx\";\nimport AuthService from \"../services/AuthService\";\nimport axios from 'axios';\nimport {AuthResponse} from \"../models/response/AuthResponse\";\nimport {API_URL} from \"../http\";\n\nexport default class Store {\n    user = {} as IUser;\n    isAuth = false;\n    isLoading = false;\n\n    constructor() {\n        makeAutoObservable(this);\n    }\n\n    setAuth(bool: boolean) {\n        this.isAuth = bool;\n    }\n\n    setUser(email: string, userName: string) {\n        this.user.userName = userName;\n        this.user.email = email;\n    }\n\n    setLoading(bool: boolean) {\n        this.isLoading = bool;\n    }\n\n    async login(email: string, password: string) {\n        try {\n            const response = await AuthService.login(email, password);\n            console.log(response.data)\n            localStorage.setItem('token', response.data.token);\n            localStorage.setItem('refreshToken', response.data.refreshToken);\n            this.setAuth(true);\n            this.setUser(response.data.email, response.data.username);\n            return response;\n        } catch (e) {\n            console.log(e.response?.data?.message);\n        }\n    }\n\n    async registration(email: string, password: string) {\n        try {\n            const response = await AuthService.registration(email, password);\n            console.log(response)\n            localStorage.setItem('token', response.data.token);\n            localStorage.setItem('refreshToken', response.data.refreshToken);\n            this.setAuth(true);\n            this.setUser(response.data.email, response.data.username);\n        } catch (e) {\n            console.log(e.response?.data?.message);\n        }\n    }\n\n    async logout() {\n        try {\n            const response = await AuthService.logout();\n            localStorage.removeItem('token');\n            this.setAuth(false);\n            // this.setUser({} as IUser);\n        } catch (e) {\n            console.log(e.response?.data?.message);\n        }\n    }\n\n    async checkAuth() {\n        this.setLoading(true);\n        try {\n            // const response = await axios.post<AuthResponse>(`${API_URL}accounts/refresh-token`, {withCredentials: true})\n            var credentialsToken = localStorage.getItem('token');\n            var credentialsRefreshToken = localStorage.getItem('refreshToken');\n            if(!credentialsToken || !credentialsRefreshToken) return;\n            const response = await AuthService.refresh(credentialsToken, credentialsRefreshToken);\n            console.log(response);\n            localStorage.setItem('token', response.data.token);\n            this.setAuth(true);\n            this.setUser(response.data.email, response.data.username);\n        } catch (e) {\n            console.log(e.response?.data?.message);\n        } finally {\n            this.setLoading(false);\n        }\n    }\n}\n","/Users/admin/Desktop/smolathon2/client/src/App.tsx",["76","77","78","79","80","81","82","83"],"/Users/admin/Desktop/smolathon2/client/src/Pages/EventPage/EventPage.tsx",["84"],"/Users/admin/Desktop/smolathon2/client/src/Pages/Events/Events.tsx",["85","86","87","88"],"/Users/admin/Desktop/smolathon2/client/src/Pages/Login/Login.tsx",["89"],"import { useState, useContext } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport './assets/style.scss'\nimport React from \"react\";\nimport {Context} from \"../../index\";\n\nfunction Login() {\n    // state variables for email and passwords\n    const [email, setEmail] = useState<string>(\"\");\n    const [password, setPassword] = useState<string>(\"\");\n    // state variable for error messages\n    const [error, setError] = useState<string>(\"\");\n    const navigate = useNavigate();\n    const {store} = useContext(Context);\n\n    // handle change events for input fields\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        const { name, value } = e.target;\n        if (name === \"email\") setEmail(value);\n        if (name === \"password\") setPassword(value);\n    };\n\n    const handleRegisterClick = () => {\n        navigate(\"/register\");\n    }\n\n    // handle submit event for the form\n    const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\n        e.preventDefault();\n        // validate email and passwords\n        if (!email || !password) {\n            setError(\"Please fill in all fields.\");\n        } else {\n            setError(\"\");\n\n            var status = store.login(email, password);\n            status.then((data) => {\n                if (data?.status == 200){ \n                    console.log(\"ВОШЛО УСПЕШНО\")\n                    navigate(\"/events\")\n                }\n                else\n                    setError(\"Error registering.\");\n\n            })\n            .catch((error) => {\n                console.error(error);\n                setError(\"Error registering.\");\n            });\n            \n        }\n    };\n\n    return (\n        <div className=\"auth_page\">\n            <h3>ArtConnect Smolensk</h3>\n            <div className=\"auth_box\"> \n                <h1>АВТОРИЗАЦИЯ</h1>\n                <form onSubmit={handleSubmit}>\n                <div className=\"box_input\">\n                    <div className=\"input_item\">\n                    <p>E-mail</p>\n                    <input type=\"email\"\n                        id=\"email\"\n                        name=\"email\"\n                        value={email}\n                        onChange={handleChange} />\n                    </div>\n                    <div className=\"input_item\">\n                    <p>Пароль</p>\n                    <input type=\"password\"\n                        id=\"password\"\n                        name=\"password\"\n                        value={password}\n                        onChange={handleChange} />\n                    </div>\n\n                </div>\n                    {/* TO DO CAPTHA */}\n                    <div className=\"box_buttons\">\n                        <button className=\"buttons_login\" type=\"submit\">ВОЙТИ</button>\n                        <button className=\"buttons_reg\" onClick={handleRegisterClick}>РЕГИСТРАЦИЯ</button>\n                    </div>\n                    </form>\n            </div>\n            {error && <p className=\"error\">{error}</p>}\n        </div>\n    );\n}\n\nexport default Login;\n","/Users/admin/Desktop/smolathon2/client/src/Pages/Register/Register.tsx",[],"/Users/admin/Desktop/smolathon2/client/src/Pages/Profile/Profile.tsx",["90","91"],"/Users/admin/Desktop/smolathon2/client/src/components/Card/Card.tsx",["92"],"/Users/admin/Desktop/smolathon2/client/src/services/AuthService.ts",[],"/Users/admin/Desktop/smolathon2/client/src/components/Header/Header.tsx",["93","94"],"/Users/admin/Desktop/smolathon2/client/src/components/QrModal/QrModal.tsx",[],"/Users/admin/Desktop/smolathon2/client/src/http/index.ts",["95","96","97"],"import axios from 'axios';\nimport {AuthResponse} from \"../models/response/AuthResponse\";\nimport {store} from \"../index\";\nimport {IUser} from \"../models/IUser\";\n\nexport const API_URL = `http://localhost:5027/`\n\nconst $api = axios.create({\n    withCredentials: true,\n    baseURL: API_URL\n})\n\n$api.interceptors.request.use((config) => {\n    config.headers.Authorization = `Bearer ${localStorage.getItem('token')}`\n    return config;\n})\n\n$api.interceptors.response.use((config) => {\n    return config;\n},async (error) => {\n    const originalRequest = error.config;\n    if (error.response.status == 401 && error.config && !error.config._isRetry) {\n        originalRequest._isRetry = true;\n        try {\n            const response = await axios.get<AuthResponse>(`${API_URL}/accounts/refresh-token`, {withCredentials: true})\n            localStorage.setItem('token', response.data.token);\n            return $api.request(originalRequest);\n        } catch (e) {\n            console.log('НЕ АВТОРИЗОВАН')\n        }\n    }\n    throw error;\n})\n\nexport default $api;\n","/Users/admin/Desktop/smolathon2/client/src/layouts/AuthorizedLayout.tsx",["98","99","100"],"/Users/admin/Desktop/smolathon2/client/src/layouts/UnAuthorizedLayout.tsx",["101","102","103","104"],"/Users/admin/Desktop/smolathon2/client/src/layouts/AuthLayout.tsx",["105","106","107","108","109","110","111","112","113","114","115","116"],{"ruleId":"117","replacedBy":"118"},{"ruleId":"119","replacedBy":"120"},{"ruleId":"121","severity":1,"message":"122","line":4,"column":8,"nodeType":"123","messageId":"124","endLine":4,"endColumn":13},{"ruleId":"121","severity":1,"message":"125","line":5,"column":9,"nodeType":"123","messageId":"124","endLine":5,"endColumn":21},{"ruleId":"121","severity":1,"message":"126","line":6,"column":9,"nodeType":"123","messageId":"124","endLine":6,"endColumn":16},{"ruleId":"121","severity":1,"message":"127","line":59,"column":19,"nodeType":"123","messageId":"124","endLine":59,"endColumn":27},{"ruleId":"121","severity":1,"message":"128","line":1,"column":43,"nodeType":"123","messageId":"124","endLine":1,"endColumn":51},{"ruleId":"121","severity":1,"message":"129","line":2,"column":8,"nodeType":"123","messageId":"124","endLine":2,"endColumn":17},{"ruleId":"121","severity":1,"message":"130","line":5,"column":9,"nodeType":"123","messageId":"124","endLine":5,"endColumn":14},{"ruleId":"121","severity":1,"message":"131","line":6,"column":8,"nodeType":"123","messageId":"124","endLine":6,"endColumn":19},{"ruleId":"121","severity":1,"message":"132","line":14,"column":8,"nodeType":"123","messageId":"124","endLine":14,"endColumn":13},{"ruleId":"121","severity":1,"message":"133","line":15,"column":8,"nodeType":"123","messageId":"124","endLine":15,"endColumn":12},{"ruleId":"121","severity":1,"message":"134","line":17,"column":8,"nodeType":"123","messageId":"124","endLine":17,"endColumn":15},{"ruleId":"135","severity":1,"message":"136","line":27,"column":8,"nodeType":"137","endLine":27,"endColumn":10,"suggestions":"138"},{"ruleId":"135","severity":1,"message":"139","line":24,"column":8,"nodeType":"137","endLine":24,"endColumn":10,"suggestions":"140"},{"ruleId":"121","severity":1,"message":"141","line":1,"column":17,"nodeType":"123","messageId":"124","endLine":1,"endColumn":26},{"ruleId":"121","severity":1,"message":"142","line":6,"column":8,"nodeType":"123","messageId":"124","endLine":6,"endColumn":15},{"ruleId":"121","severity":1,"message":"143","line":20,"column":12,"nodeType":"123","messageId":"124","endLine":20,"endColumn":17},{"ruleId":"121","severity":1,"message":"144","line":98,"column":20,"nodeType":"123","messageId":"124","endLine":98,"endColumn":29},{"ruleId":"145","severity":1,"message":"146","line":38,"column":34,"nodeType":"147","messageId":"148","endLine":38,"endColumn":36},{"ruleId":"121","severity":1,"message":"149","line":26,"column":11,"nodeType":"123","messageId":"124","endLine":26,"endColumn":17},{"ruleId":"121","severity":1,"message":"150","line":72,"column":20,"nodeType":"123","messageId":"124","endLine":72,"endColumn":29},{"ruleId":"135","severity":1,"message":"151","line":23,"column":8,"nodeType":"137","endLine":23,"endColumn":10,"suggestions":"152"},{"ruleId":"121","severity":1,"message":"141","line":1,"column":17,"nodeType":"123","messageId":"124","endLine":1,"endColumn":26},{"ruleId":"121","severity":1,"message":"153","line":27,"column":11,"nodeType":"123","messageId":"124","endLine":27,"endColumn":22},{"ruleId":"121","severity":1,"message":"154","line":3,"column":9,"nodeType":"123","messageId":"124","endLine":3,"endColumn":14},{"ruleId":"121","severity":1,"message":"130","line":4,"column":9,"nodeType":"123","messageId":"124","endLine":4,"endColumn":14},{"ruleId":"145","severity":1,"message":"146","line":22,"column":31,"nodeType":"147","messageId":"148","endLine":22,"endColumn":33},{"ruleId":"121","severity":1,"message":"155","line":2,"column":40,"nodeType":"123","messageId":"124","endLine":2,"endColumn":51},{"ruleId":"121","severity":1,"message":"156","line":17,"column":20,"nodeType":"123","messageId":"124","endLine":17,"endColumn":29},{"ruleId":"135","severity":1,"message":"157","line":27,"column":8,"nodeType":"137","endLine":27,"endColumn":10,"suggestions":"158"},{"ruleId":"121","severity":1,"message":"141","line":1,"column":17,"nodeType":"123","messageId":"124","endLine":1,"endColumn":26},{"ruleId":"121","severity":1,"message":"155","line":2,"column":40,"nodeType":"123","messageId":"124","endLine":2,"endColumn":51},{"ruleId":"121","severity":1,"message":"159","line":14,"column":11,"nodeType":"123","messageId":"124","endLine":14,"endColumn":19},{"ruleId":"121","severity":1,"message":"156","line":17,"column":20,"nodeType":"123","messageId":"124","endLine":17,"endColumn":29},{"ruleId":"121","severity":1,"message":"141","line":1,"column":17,"nodeType":"123","messageId":"124","endLine":1,"endColumn":26},{"ruleId":"121","severity":1,"message":"160","line":2,"column":10,"nodeType":"123","messageId":"124","endLine":2,"endColumn":17},{"ruleId":"121","severity":1,"message":"155","line":2,"column":40,"nodeType":"123","messageId":"124","endLine":2,"endColumn":51},{"ruleId":"121","severity":1,"message":"161","line":6,"column":8,"nodeType":"123","messageId":"124","endLine":6,"endColumn":12},{"ruleId":"121","severity":1,"message":"162","line":7,"column":8,"nodeType":"123","messageId":"124","endLine":7,"endColumn":18},{"ruleId":"121","severity":1,"message":"163","line":8,"column":8,"nodeType":"123","messageId":"124","endLine":8,"endColumn":15},{"ruleId":"121","severity":1,"message":"164","line":9,"column":8,"nodeType":"123","messageId":"124","endLine":9,"endColumn":15},{"ruleId":"121","severity":1,"message":"159","line":14,"column":11,"nodeType":"123","messageId":"124","endLine":14,"endColumn":19},{"ruleId":"121","severity":1,"message":"165","line":17,"column":12,"nodeType":"123","messageId":"124","endLine":17,"endColumn":18},{"ruleId":"121","severity":1,"message":"156","line":17,"column":20,"nodeType":"123","messageId":"124","endLine":17,"endColumn":29},{"ruleId":"121","severity":1,"message":"166","line":18,"column":12,"nodeType":"123","messageId":"124","endLine":18,"endColumn":23},{"ruleId":"121","severity":1,"message":"167","line":21,"column":11,"nodeType":"123","messageId":"124","endLine":21,"endColumn":21},"no-native-reassign",["168"],"no-negated-in-lhs",["169"],"@typescript-eslint/no-unused-vars","'axios' is defined but never used.","Identifier","unusedVar","'AuthResponse' is defined but never used.","'API_URL' is defined but never used.","'response' is assigned a value but never used.","'useState' is defined but never used.","'LoginForm' is defined but never used.","'IUser' is defined but never used.","'UserService' is defined but never used.","'Event' is defined but never used.","'Card' is defined but never used.","'Profile' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'store'. Either include it or remove the dependency array.","ArrayExpression",["170"],"React Hook useEffect has a missing dependency: 'getEvent'. Either include it or remove the dependency array.",["171"],"'useEffect' is defined but never used.","'WebFont' is defined but never used.","'store' is assigned a value but never used.","'getEvents' is defined but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","'apiUrl' is assigned a value but never used.","'checkAuth' is defined but never used.","React Hook useEffect has a missing dependency: 'getCard'. Either include it or remove the dependency array.",["172"],"'handleLogin' is assigned a value but never used.","'store' is defined but never used.","'useLocation' is defined but never used.","'setSearch' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'navigate' and 'store'. Either include them or remove the dependency array.",["173"],"'navigate' is assigned a value but never used.","'NavLink' is defined but never used.","'logo' is defined but never used.","'searchLogo' is defined but never used.","'profile' is defined but never used.","'message' is defined but never used.","'search' is assigned a value but never used.","'inputSearch' is assigned a value but never used.","'inputCheck' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"174","fix":"175"},{"desc":"176","fix":"177"},{"desc":"178","fix":"179"},{"desc":"180","fix":"181"},"Update the dependencies array to be: [store]",{"range":"182","text":"183"},"Update the dependencies array to be: [getEvent]",{"range":"184","text":"185"},"Update the dependencies array to be: [getCard]",{"range":"186","text":"187"},"Update the dependencies array to be: [navigate, store]",{"range":"188","text":"189"},[1029,1031],"[store]",[706,708],"[getEvent]",[604,606],"[getCard]",[834,836],"[navigate, store]"]